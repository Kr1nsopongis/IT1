<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="swipe.js" defer></script>
    <link rel="stylesheet" href="style.css">
</head>
<body id="hoved">
    <header id="header">
        <img src="../brukerRegistrering/Bilder/Logo.png" alt="Nettsidens logo" class="l" id="logo" >
        <img src="bilder/887603_user_512x512.png" alt="" id="profilSide" class="p">
    </header>

    <div id="div">
        <img id="profilbilde" src="bilder/defaultbilde.jpg" alt="">
        <h1 id="navn"></h1>
        <h3 id="bio"></h3>
        <img src="" alt="" id="flagg">
        
       

        <div id="knapp">
            <img src="bilder/kryss.png" alt="" id="moveLeft">
            <img src="bilder/hjerte.png" alt="" id="moveRight">
        </div>
    </div>
    <div class="OverLay" id="overlay">
        <img src="bilder/lastegif.gif" alt="" id="laste">
        <button type="button" id="startKnapp">Start swipingen!</button>
        <button type="button" id="marcusModus">Marcus modus!</button>
    </div>
</body>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore.js";
    import { collection, doc, updateDoc, getDoc } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCoRH-HJRelRMyBqOr0NCE-Fx7sdUbjQsY",
        authDomain: "datingside-98657.firebaseapp.com",
        projectId: "datingside-98657",
        storageBucket: "datingside-98657.appspot.com",
        messagingSenderId: "323999360874",
        appId: "1:323999360874:web:fc7215729fdc361a98e713"
    };
    
    let brukerID = localStorage.getItem("brukerID");

    export const app = initializeApp(firebaseConfig);
    export const db = getFirestore(app);

    const docRef = doc(db, "test", brukerID);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
        console.log("Document data:", docSnap.data());
        let brukerData = docSnap.data();
        console.log(brukerData);
        localStorage.setItem("interesser", JSON.stringify(brukerData.interesser));
        localStorage.setItem("nasjonaliteter", JSON.stringify(brukerData.nasjonalitetPreferanse));
        localStorage.setItem("kjonner", JSON.stringify(brukerData.kjonnPreferanse));
    } else {
    // docSnap.data() will be undefined in this case
        console.log("No such document!");
    }

    document.getElementById("startKnapp").addEventListener("click", startSwiping)

    function startSwiping() {

    }

    function tilbakeTilStart(){
    document.location.href = "../startSide/index.html"
}

document.getElementById("logo").addEventListener('click', tilbakeTilStart)

</script>
</html>